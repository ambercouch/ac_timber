/*
  BEM BLOCK .c-nav-menu
 */

.c-nav-menu {
  display: block;

}

/*
  BEM BLOCK MODIFIER .c-nav-menu--
 */
.c-nav-menu-- {
  &primary {
   @include act-font-size($act-fs-6, 1.3);

    //@include breakout-band($brand-col-2);
    //margin: 0 auto;
    @include mq($from:desktop){
      padding-right: 0
    }

  }
  &secondary {
    @include act-font-size($inuit-font-size-h5, 1.3);
  }
  &social{
    //margin-top: $act-unit-l;
  }
}
//BEM BLOCK MODIFIER FALLBACK .c-nav-menu--

[class*=c-nav-menu--] {
  @extend .c-nav-menu;
}

/*
  BEM ELEMENTS .c-nav-menu__
 */

.c-nav-menu__ {
  &icon-title{
    line-height: $act-unit;
  }
  &svg-icon{
    height: $act-unit;
  }
  &list{
   @extend .o-list-bare;
   margin-bottom: 0;
   text-align: center;
 }
  &item{
    position: relative;
    padding: 0;
    text-align: center;
  }
  &link{
    text-decoration: none;
    pointer-events: all !important;
  }
  &link-label{
    line-height: $act-unit;
  }
  &nav-sub-menu{

}
  &sub-menu{
    pointer-events: all;
    position: absolute;
    left: -99999px;
    display: none;
    top: 70%;
    margin-left: 0;
    z-index: 999;
    padding: $act-unit-t;
    background: rgba(white, 0.9);
    .home &{
      background: transparent;
    }
    .l-site__off-page-container--mobile-navigation &{
      background: transparent;
    }
    .menu-item-has-children:hover &{
      left: 0;
      display: block;
    }
    &:hover{
      left: 0 !important;
      display: block !important;

    }
  }
  &nav-sub-menu{
    @extend .c-nav-menu__sub-menu;
    padding: 0;
    margin-bottom: $act-unit-s;
    &[data-state=off]{
      display: none !important;
    }
    &[data-state=on]{
      display: block !important;
      position: static;
    }
  }
  &sub-menu-list{
    @extend .o-list-bare ;
    margin: 0;
  }
  &sub-menu-item{
    color: white;
    margin-bottom:0;
    padding-left: 0 !important;
    text-align: left;
    border-bottom: solid 1px lighten($brand-col-1, 50%);
    &:last-child{
      margin-bottom: 0;
    }
    .home &{
      border-bottom: solid 1px white;
    }
  }
  &sub-menu-link{
    color: lighten($brand-col-1, 20%);
    text-decoration: none;
    display: block;
    width: 100%;
    padding: $act-unit-s;
    //padding-left: ;
    .home &{
      color: white;
    }
    &:hover{
      @extend .c-nav-menu__sub-menu-link;
      color: $brand-col-1 !important;
     background: rgba(white, 0.4);
      .home &{
        color: white !important;
      }
    }
  }
}

//BEM ELEMENT MODIFIER FALLBACK .c-nav-menu__list--

[class*=c-nav-menu__list--] {
  @extend .c-nav-menu__list;
}

.c-nav-menu__list--{
  &primary{
    @extend .o-list-flex--center;
    justify-content: flex-start;
    @include mq ($from: wide){
      justify-content: flex-end;
    }

    .home & {

      .is-hidden-home{
        display: none;
      }
    }
  }
  &mobile{
    @extend .c-nav-menu__list--stacked;
    text-align: left;
  }
  &mobile-services{
    @extend .c-nav-menu__list--stacked;
    text-align: left;
  }
  &mobile-pages{
    @extend .c-nav-menu__list--stacked;
  }
  &mobile-bookings{
    text-align: left;
    @include mq ($from: wide){
      display: none;
      .l-site__off-page-container--mobile-navigation & {
        display: block;
      }
    }
  }
  &pagination{
    @extend .o-flex-split--last;
  }
  &social{
    @extend .o-list-flex;
    justify-content: center;
  }
  &footer{
  display: flex;
    flex-direction: row;
    justify-content: center;
  }
  &stacked{
    display: flex;
    flex-direction: column;
  }
  &homepage-service{
    @include mq ($from: desktop){
      //width: 90vw;
      //max-width: 1800px;
      margin: auto;
      box-sizing: border-box;
    }
  }
}

//BEM ELEMENT MODIFIER FALLBACK .c-nav-menu__item--

[class*=c-nav-menu__item--] {
  @extend .c-nav-menu__item !optional;
}

.c-nav-menu__item--{
  &primary{
    margin-right: 0;
    margin-left: 0;
    text-transform: uppercase;
    display: table-cell;
    &:last-child{
      @include mq ($from: desktop){
        border: solid 1px $brand-col-1;
        margin-right: $act-unit;

        .home & {
          border: solid 1px white;
        }
      }
    }

    &.menu-item-has-children:before{
      content: '';
      transition: opacity 0.3s ease-in-out;
      opacity: 0;
    }
    &.menu-item-has-children:hover:before{
      transition: opacity 0.3s ease-in-out;
      content: '';
      display: block;
      position: fixed;
      pointer-events: none;
      width: 100vw;
      height: 100vh;
      left: 0;
      top: 0;
      background: rgba(black, 0.7);
      opacity: 1;
      z-index: 1;
    }

  }
  &hero{
    margin-right: $act-unit;
  }
  &social{
    margin-right: $act-unit-s;
    margin-left: 0;
  }
  &footer{
    margin-left: $act-unit-s;
    margin-right: $act-unit-s;

  }
  &stacked{
    margin-bottom: $act-unit-s;
    &:last-child{
      margin-bottom: 0;
    }
  }
  &mobile{
    @extend .c-nav-menu__item--stacked;
    text-align: left;
  }
  &mobile-services{
    @extend .c-nav-menu__item--stacked;
    text-align: left;
  }
  &mobile-pages{
    @extend .c-nav-menu__item--stacked;
    text-align: left;
  }

    &mobile-bookings{
      padding-left: $act-unit !important;
      padding-right: $act-unit !important;
    }

  &image{
    display: inline-block;
    @include mq ($from: tablet){
      width: calc(50% - 2px);
      padding: $act-unit-s;
      margin-bottom: 0;
      .hide-image{
        display: none;
      }
    }
    &:first-child{
      @include mq($from: desktop){
        height: 475px;
      }
    }
  }
  &image:first-child{
    @include mq ($from: tablet){
      width: 100%;
    }
  }
  &homepage-service{
    margin-bottom: $act-unit-l;
    @include mq ($from: tablet){
      margin-bottom: 0;
    }
    &:last-child{
      margin-bottom: 0;

    }
  }
  &icon{
    .c-nav-menu__link{
      display: inline-flex !important;
      width: auto;
    }
  }
}

//BEM ELEMENT MODIFIER FALLBACK .c-nav-menu__link--

[class*=c-nav-menu__link--] {
  @extend .c-nav-menu__link !optional;
}

.c-nav-menu__link--{
  &primary{
    padding:$act-unit-s $act-unit;
    display: block;
    background: transparent;
    font-weight: 500;

    color: $brand-col-1;

    .home &{
      color: white;
    }

    @include mq ($from: desktop){
        padding:$act-unit-s $act-unit;
        display: block;
    }
    }
    &:hover{
      color: $brand-col-2;
    }
    .is-overlay-hero &{
      color:white;
    }
    .c-nav-menu__item:last-child &{
    }
    .current-menu-item &{
      background: transparent;
      font-weight: 500;
      .is-overlay-hero &{
        color: darken(white, 5%);
      }
    }
  &secondary{
    @extend .o-btn;
    @extend .o-btn--rounded;
    @extend .o-btn--brand-2;
    text-transform: uppercase;
    font-weight: 500;
  }
  &mobile{
     //@extend .c-nav-menu__link--blocky;
     text-transform: uppercase;
    @include act-font-size($act-fs-5)
   }
  &mobile-services{
    //@extend .c-nav-menu__link--blocky;
    text-transform: uppercase;
    @include act-font-size($act-fs-5)
  }
  &mobile-pages{
    //@extend .c-nav-menu__link--blocky;
    text-transform: uppercase;
    @include act-font-size($act-fs-5)
  }
  &mobile-bookings{
    color: #fff;
  }
  &blocky{
    padding:$act-unit-s;
    display: block;
    background-color: darken($brand-col-3, 15%);
    &:hover{
      color: white;
      background-color: darken($brand-col-3, 20%);
    }
    &:focus{
      color: white;
      background-color: darken($brand-col-3, 20%);
    }
  }
  &homepage-service{
    color: #fff;
    &:hover{
      color: #fff;
      .c-post-thumb__image:after{
        background: rgba(#000, 0.2);
      }
    }
  }
  &social{
    padding: $act-unit-t;
  }
}

//BEM ELEMENT MODIFIER FALLBACK .c-nav-menu__link--

[class*=c-nav-menu__link-label--] {
  @extend .c-nav-menu__link-label !optional;
}



//BEM ELEMENT MODIFIER FALLBACK .c-nav-menu__sub-menu--

[class*=c-nav-menu__sub-menu--] {
   @extend .c-nav-menu__sub-menu !optional;
 }

.c-nav-menu__sub-menu--primary{
  width: 200px;
}

//BEM ELEMENT MODIFIER FALLBACK .c-nav-menu__sub-menu-list--

[class*=c-nav-menu__sub-menu-list--] {
  @extend .c-nav-menu__sub-menu-list !optional;
}

//BEM ELEMENT MODIFIER FALLBACK .c-nav-menu__sub-menu-item--

[class*=c-nav-menu__sub-menu-item--] {
  @extend .c-nav-menu__sub-menu-item !optional;
}



//BEM ELEMENT MODIFIER FALLBACK .c-nav-menu__sub-menu-link--

[class*=c-nav-menu__sub-menu-link--] {
  @extend .c-nav-menu__sub-menu-link !optional;
}

.c-nav-menu__link{

  .has-label &{
    display: flex;
    align-items: center;
  }
   > :last-child{
     .has-label & {
       margin-left: $act-unit-s;
     }
     .is-icon-pos-right &{
       margin-left: 0;
       //@include mq ($from: desktop){
         display: flex;
         flex-direction: row-reverse;
       //}
     }
  }
  .is-icon-pos-right &{
    flex-direction: row-reverse;
  }

}

.c-nav-menu__list{
   .l-single-page__body--page &{
     display: flex;
     justify-content: center;
   }
 }

.c-nav-menu__item{
  .l-single-page__body--page &{
    display: flex;
    align-items: center;
    text-transform: uppercase;
  }
  &.current_page_item{
    .l-single-page__body--page &{
      font-weight: bold;
    }
  }
}

.c-nav-menu__item:after{
   .l-single-page__body--page &{
     content: "";
     display: block;
     width: 0;
     height: 0.75em;
     border-left: 1px solid $brand-col-1;
     margin:   $act-unit-t * 1.5;
     transform: rotateZ(10deg);
   }
 }

.c-nav-menu__item:last-child:after{
  .l-single-page__body--page &{
    content: "";
    display: none;
    width: 0;
    height: 1em;
    border-left: 1px solid $brand-col-1;
    margin:   $act-unit-s;

  }
}


